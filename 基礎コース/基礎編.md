# AWSアカウントとIAMユーザの作成
## AWSアカウント作成
下記の3つが必要
・メールアドレス
・電話番号
・クレジットカード

## ルートユーザーとIAMユーザー
### ルートユーザー
・メールアドレスとパスワードでログイン
・全AWSサービスとリソースに対して完全なアクセス権限
・⽇常的なタスクには使わず、支払いで使う
### IAMユーザー
・アカウントIDとIAMユーザー名とパスワードでログイ
・紐づいているIAMポリシー権限で認められた操作のみ可能
・IAMポリシーを作成し、利⽤者ごとに割り当て、IAMユーザーでログインして作業を⾏う


# AWSの基本ネットワーク構成とコンポーネントの役割
## リージョンとアベイラビリティーゾーン（AZ）
### リージョン
複数アベイラビリティーゾーン (AZ) で構成され、　データセンターの物理的な場所
### アベイラビリティーゾーン（AZ）
ビジネスに影響を与えるリスクを最⼩化するよう地理的に影響を受けない⼗分離れた場所にあり、複数のデータセンターをグルーピングしてひとつにまとめたもの

## 基本ネットワーク構成
### VPC
仮想ネットワーク

### インターネットゲートウェイ
VPCとインターネットとの間を接続できるための機能

### サブネット
ネットワークを小さく分割したもので、用途にあわせて使い
やすくするため

### パブリックサブネット
ルートテーブルのデフォルトがローカルとインターネットゲートウェイで、VPC内と外部に接続できる

### プライベートサブネット
ルートテーブルのデフォルトがローカルのみで、VPC内のみしか接続できない

### NATゲートウェイ
プライベートサブネットのルートテーブルにこれを追加すると、プライベートサブネット内のインスタンスはVPC外のサービスに接続できるが、外部サービスはそれらのインスタンスに接続できない

# AWS上で汎⽤的なWebシステム構築
## ELB
サーバーへの負荷を分散する
EC2等のパブリックサブネットになっているものを、プライベートサブネットにでき、セキュアな構成になる
## ターゲットグループ
ロードバランサー配下にどのインスタンスを配置するか指定

# デモ
## IAMユーザ作成
1. ユーザー名とパスワードを入力<br>
2. ポリシーを直接アタッチするを選択し、ポリシーリスとから選択する<br>
3. アカウントエイリアスを設定し、識別しやすいログインURLに変更する<br>

## VPCワークフロー
1. VPCなどを選択し、VPCエンドポイントはなしを選択する

## EC2
1. 名前を入力し、キーペアはなしを選択<br>
ネットワーク設定はVPCは作成したVPCにし、サブネットは作成したパブリックサブネットにする<br>
パブリックIPの自動割り当てを有効にする<br>
セキュリティグループはECのファイアウォール<br>
インバウンドのルールはタイプをHTTP、ソースタイプは自分のIPを指定→自分のIPアドレスからEC2へのHTTP接続を許可する<br>
高度な詳細のユーザーデータには、EC2起動時に実行されるスクリプトを指定できる<br>
2. セキュリティグループを作成<br>
VPCは作成したものを指定<br>
インバウンドのルールはタイプをMySQL/Aurora、ソースをEC2のセキュリティグループを指定→EC2からRDSへの接続を許可する

## RDS
1. DBサブネットグループを作成<br>
VPCは作成したものを指定<br>
サブネットは作成済みのプライベートサブネットを指定<br>
2. RDSを作成<br>
標準作成を選択し、MySQLを選択し、無料利用枠を選択<br>
DBインスタンス識別しとユーザー名とパスワードを入力<br>
VPCは作成したのにし、DBサブネットグループは作成したもの<br>

## ELB
1. ターゲットグループを作成<br>
ターゲットタイプはインスタンスを選択し、インスタンス名を入力<br>
VPCは作成したの<br>
ヘルスチェックはプロトコルはHTTPで、200を返すようにする<br>
ターゲット登録ではターゲットにするEC2を選択<br>
2. セキュリティグループを作成<br>
インバウンドルールはタイプをHTTP、リソースタイプはマイIP<br>
ロードバランサーはALBを選択<br>
ネットワークマッピングは作成したパブリックサブネットを指定<br>
セキュリティグループはELB用に作成したものを指定<br>
リスナーとルーティングで作成したターゲットグループを指定<br>
3. EC2のセキュリティグループを修正<br>
インバウンドルールを追加し、タイプをHTTP、ソースはELBに割りあてられたセキュリティグループを選択→EC2のファイアウォール設定で、ELBからHTTPアクセスできるように許可






